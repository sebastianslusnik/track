<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Progress</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="stylesheet" href="styles.css?v=2.3">
    <meta name="apple-mobile-web-app-capable" content="yes">
   <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <!-- Enable web app mode for iOS Safari when added to home screen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- Choose 'default', 'black', or 'black-translucent'. 'default' uses page background color -->
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <!-- Set theme color for Safari and some Android devices -->
    <meta name="theme-color" content="#f1f1f1">
    <link rel="icon" type="image/png" href="icon.png" />
    <!-- 180×180 pixels is recommended -->
    <link rel="apple-touch-icon" sizes="180x180" href="icon.png">
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <img src="icon.png" /><h1>Progress</h1>
      </header>
      <main class="layout">
        <section class="panel">
          <div class="panel-header">
            <h2>Progress</h2>
          </div>
          <div class="progress-stats">
            <div class="stat">
              <div class="label">Start</div>
              <div class="value">
                <span id="startWeightLabel">122.5</span> kg
              </div>
            </div>
            <div class="stat">
              <div class="label">Current</div>
              <div class="value">
                <span id="currentWeightLabel">—</span> kg
              </div>
            </div>
            <div class="stat">
              <div class="label">Goal</div>
              <div class="value">
                <span id="goalWeightLabel">99.5</span> kg
              </div>
            </div>
          </div>
          <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
          </div>
          <div class="progress-footer">
            <div class="progress-label" id="progressPercent">0%</div>
            <div class="delta">
              <span class="delta-item">
                <strong id="lostLabel">0</strong> kg lost </span>
              <span class="delta-item">
                <strong id="remainingLabel">0</strong> kg to go </span>
            </div>
          </div>
        </section>
        <section class="panel">
          <div class="panel-header">
            <h2>Log Weight</h2>
          </div>
          <form id="logForm" class="log-form">
            <div class="field">
              <label for="dateInput">Date</label>
              <input id="dateInput" type="date" required>
            </div>
            <div class="field">
              <label for="weightInput">Weight (kg)</label>
              <input id="weightInput" type="number" inputmode="decimal" step="0.1" min="30" max="300" placeholder="e.g., 118.4" required>
            </div>
            <button type="submit" id="saveBtn" class="btn">Save</button>
          </form>
          <div class="status" id="status"></div>
        </section>
        <section class="panel chart-panel">
          <div class="panel-header">
            <h2>Trend</h2>
          </div>
          <div class="chart-wrap">
            <canvas id="weightChart"></canvas>
          </div>
        </section>
      </main>
      <section class="panel table-panel">
        <div class="panel-header">
          <h2>History</h2>
        </div>
        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Weight (kg)</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
      </section>
      <footer class="app-footer">
        <div class="muted">Made by &copy; Sebastián Slušník</div>
      </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script src="script.js?v=2.0"></script>
  </body>
</html>
